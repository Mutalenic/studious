import os

def is_malicious_file(file_path, malicious_signature):
    try:
        with open(file_path, "rb") as file:
            file_content = file.read()
            if malicious_signature in file_content:
                return True
        return False
    except FileNotFoundError:
        print("File not found.")
        return False

def is_file_corrupted(file_path, expected_signature):
    try:
        with open(file_path, 'rb') as file:
            actual_signature = file.read(len(expected_signature))
            return actual_signature == expected_signature
    except FileNotFoundError:
        print(f"File not found: {file_path}")
        return False
    except Exception as e:
        print(f"An error occurred while checking {file_path}: {e}")
        return False

if __name__ == "__main__":
    # Replace 'MALICIOUS_SIGNATURE' with the string you want to detect in the file.
    malicious_signature = b"X5O!P%@AP[4\\PZX54(P^)7CC)7}$EICAR-STANDARD-ANTIVIRUS-TEST-FILE!$H+H*"
    file_path = r"C:\Users\Nico\Downloads\eicar.com"  # Replace with the path to the file you want to scan.

    if is_malicious_file(file_path, malicious_signature):
        print("Malicious file has been detected.")
        input('Do you want to delete')
        os.remove(file_path)
        print("File deleted")
    else:
        print("Single file appears to be clean.")

    # Test file corruption check
    test_file_path = r"C:\path\to\test\file.gif"  # Replace with the path to the file you want to scan.
    expected_signature = b"GIF89a"
    if is_file_corrupted(test_file_path, expected_signature):
        print("File is not corrupted.")
    else:
        print("File may be corrupted.")
